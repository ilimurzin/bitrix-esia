# bitrix-esia

Модуль для Битрикса. Добавляет «Госуслуги» в «социальные сервисы».

Для работы модуля на вашем сервере должен быть установлен КриптоПро или OpenSSL с поддержкой ГОСТ.

Содержит код из [ilimurzin/esia](https://github.com/ilimurzin/esia), который является форком пакета [fr05t1k/esia](https://github.com/fr05t1k/esia).

## Установка

Можно установить из Маркетплейса или композером.

### Из Маркетплейса

Стандартная установка из Маркетплейса

https://marketplace.1c-bitrix.ru/solutions/ilimurzin.esia/

### Композером

```sh
composer config extra.bitrix-dir www/bitrix
composer require ilimurzin/bitrix-esia
```

где `www/bitrix` — путь до директории bitrix.

## После установки

В админке перейти в «Marketplace» → «Установленные решения» и нажать «Установить».

После установки модуль нужно настроить.
Переходим в админке по пути «Настройки» → «Настройки продукта» → «Настройки модулей» → «Социальные сервисы».
Рядом с пунктом «Госуслуги» нужно поставить галочку.
Ниже нужно заполнить настройки, согласно подсказкам под полями.
Мнемонику и сертификат нужно получить [на Госуслугах](https://partners.gosuslugi.ru/catalog/esia).
Зайдите на вторую вкладку и убедитесь, что регистрация новых пользователей разрешена.
После настройки в компоненте авторизации появится новая кнопка.
